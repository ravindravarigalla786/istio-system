profile: ambient

# Production-ready image configuration
hub: docker.io/istio
tag: 1.28.3-distroless
variant: distroless
imagePullPolicy: IfNotPresent
resources:
    requests:
      cpu: 500m
      memory: 1Gi
cni:
  # Ambient mode specific settings
  ambient:
    enabled: true
  
  # Node selector for general purpose nodes
  nodeSelector:
    karpenter.sh/nodepool: general
  
  # Tolerations to run on all general nodes
  tolerations:
  - operator: Exists
  
  # Log level
  logLevel: info
  
  # Ensure ztunnel socket directory is mounted (required for ambient)
  mountZtunnelSocket: true
